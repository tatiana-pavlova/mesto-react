{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","style","backgroundImage","link","backgroundSize","name","type","onCardLike","length","onCardDelete","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","title","onSubmit","children","buttonTitle","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","value","onChange","target","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","reset","ref","AddPlacePopup","cardName","setCardName","cardUrl","setCardUrl","ImagePopup","api","config","this","_baseUrl","url","_headers","headers","fetch","then","res","_checkResponse","data","method","body","JSON","stringify","avatarUrl","cardId","ok","json","Promise","reject","status","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserInfo","catch","err","console","log","getInitialCards","resCards","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","editProfileInfo","editUserAvatar","loadNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uMAAe,MAA0B,iC,OCU1BA,MARf,WACE,OACE,wBAAQC,UAAU,SAAlB,SACE,qBAAKC,IAAKC,EAAUC,IAAI,0DAAuBH,UAAU,oBCHlDI,EAAqBC,IAAMC,gBCqCzBC,MApCf,SAAeC,GACb,IAAMC,EAAcJ,IAAMK,WAAWN,GAE/BO,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IAC7CC,EAAyB,wBAAqBJ,EAAQ,wBAA0B,wBAChFK,EAAUR,EAAMI,KAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAC3DM,EAAuB,sBAAkBJ,EAAU,qBAAuB,IAehF,OACE,0BAAShB,UAAU,QAAnB,UACE,qBAAKqB,QAfT,WACEb,EAAMc,YAAYd,EAAMI,OAcKW,MAAO,CAAEC,gBAAgB,OAAD,OAAShB,EAAMI,KAAKa,KAApB,KAA6BC,eAAgB,SAAW1B,UAAU,eACrH,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BQ,EAAMI,KAAKe,OACxC,sBAAK3B,UAAU,sBAAf,UACE,wBAAQ4B,KAAK,SAAS5B,UAAWoB,EAAyB,aAAW,2GAAsBC,QAfnG,WACEb,EAAMqB,WAAWrB,EAAMI,SAejB,mBAAGZ,UAAU,sBAAb,SAAoCQ,EAAMI,KAAKK,MAAMa,eAGzD,wBAAQF,KAAK,SAAS5B,UAAWe,EAA2B,aAAW,sEAAeM,QAf1F,WACEb,EAAMuB,aAAavB,EAAMI,aCiBdoB,MAjCf,SAAexB,GAGb,IAAMC,EAAcJ,IAAMK,WAAWN,GAGrC,OACE,iCACE,0BAASJ,UAAU,UAAnB,UACE,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,0BAA0BqB,QAASb,EAAMyB,aAAxD,SAAsE,qBAAKjC,UAAU,kBACrEuB,MAAO,CAAEC,gBAAgB,OAAD,OAASf,EAAYyB,OAArB,KAAgCR,eAAgB,aACxF,sBAAK1B,UAAU,gBAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BS,EAAYkB,OAC3C,wBAAQC,KAAK,SAAS5B,UAAU,gBAAgBqB,QAASb,EAAM2B,cAAe,aAAW,iIAE3F,mBAAGnC,UAAU,oBAAb,SAAkCS,EAAY2B,cAGlD,wBAAQR,KAAK,SAAS5B,UAAU,eAAeqB,QAASb,EAAM6B,WAAY,aAAW,iFAGvF,yBAASrC,UAAU,SAAnB,SACGQ,EAAM8B,MAAMC,KAAI,SAAC3B,GAChB,OAAQ,cAAC,EAAD,CAAqBA,KAAMA,EAAMU,YAAad,EAAMc,YAAaO,WAAYrB,EAAMqB,WAC7EE,aAAcvB,EAAMuB,cADfnB,EAAKE,cCrBnB0B,MARf,WACE,OACE,wBAAQxC,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,uCCYSyC,MAff,SAAwBjC,GACtB,OACE,qBAAKR,UAAS,2BAAsBQ,EAAMmB,KAA5B,YAAoCnB,EAAMkC,OAAQ,eAAgB,IAAhF,SACE,sBAAK1C,UAAU,mBAAf,UACE,oBAAIA,UAAU,eAAd,SAA8BQ,EAAMmC,QACpC,uBAAM3C,UAAU,cAAc4C,SAAUpC,EAAMoC,SAA9C,UACGpC,EAAMqC,SACP,wBAAQjB,KAAK,SAAS5B,UAAU,gBAAgB,aAAW,gHAA3D,SAAkFQ,EAAMsC,iBAE1F,wBAAQlB,KAAK,SAAS5B,UAAU,eAAeqB,QAASb,EAAMuC,QAAS,aAAW,oFC4C3EC,MAjDf,SAA2BxC,GACzB,IAAMC,EAAcJ,IAAMK,WAAWN,GAErC,EAAwBC,IAAM4C,SAAS,IAAvC,mBAAOtB,EAAP,KAAauB,EAAb,KACA,EAAsC7C,IAAM4C,SAAS,IAArD,mBAAOE,EAAP,KAAoBC,EAApB,KA0BA,OAxBA/C,IAAMgD,WAAU,WACdH,EAAQzC,EAAYkB,MACpByB,EAAe3C,EAAY2B,SAC1B,CAAC3B,EAAaD,EAAMkC,SAsBrB,cAAC,EAAD,CAAef,KAAK,eAAegB,MAAM,4HAAwBD,OAAQlC,EAAMkC,OAAQK,QAASvC,EAAMuC,QAASH,SAXjH,SAAsBU,GACpBA,EAAEC,iBAEF/C,EAAMgD,aAAa,CACjB7B,KAAMA,EACNS,MAAOe,KAOWL,YAAY,yDADhC,SAEE,qCACE,sBAAK9C,UAAU,qBAAf,UACE,uBAAOyD,GAAG,aAAa7B,KAAK,OAAO8B,MAAO/B,EAAMgC,SAvBxD,SAA2BL,GACzBJ,EAAQI,EAAEM,OAAOF,QAsBiE1D,UAAU,sCAAsC2B,KAAK,OAC3HkC,YAAY,qBAAMC,UAAQ,EAACC,UAAU,IAAIC,UAAU,OACzD,sBAAMhE,UAAU,wBAElB,sBAAKA,UAAU,qBAAf,UACE,uBAAOyD,GAAG,YAAY7B,KAAK,OAAO8B,MAAOP,EAAaQ,SAxB9D,SAAkCL,GAChCF,EAAeE,EAAEM,OAAOF,QAuBuE1D,UAAU,qCAAqC2B,KAAK,MACvIkC,YAAY,8FAAmBC,UAAQ,EAACC,UAAU,IAAIC,UAAU,QACtE,sBAAMhE,UAAU,6BCnBXiE,MAxBf,SAA0BzD,GACxB,IAAM0D,EAAY7D,IAAM8D,OAAO,MAW/B,OACE,cAAC,EAAD,CAAexC,KAAK,cAAcgB,MAAM,wFAAkBD,OAAQlC,EAAMkC,OAAQK,QAASvC,EAAMuC,QAASH,SAV1G,SAAsBU,GACpBA,EAAEC,iBAEF/C,EAAM4D,eAAe,CACnBlC,OAAQgC,EAAUG,QAAQX,QAE5BJ,EAAEM,OAAOU,SAKMxB,YAAY,yDAD3B,SAEE,sBAAK9C,UAAU,qBAAf,UACE,uBAAOyD,GAAG,eAAe7B,KAAK,MAAM2C,IAAKL,EAAWlE,UAAU,wCAAwC6D,YAAY,0IAC1GlC,KAAK,SAASmC,UAAQ,IAC9B,sBAAM9D,UAAU,6BCyBTwE,MA3Cf,SAAwBhE,GACtB,MAAgCH,IAAM4C,SAAS,IAA/C,mBAAOwB,EAAP,KAAiBC,EAAjB,KACA,EAA8BrE,IAAM4C,SAAS,IAA7C,mBAAO0B,EAAP,KAAgBC,EAAhB,KAsBA,OACE,cAAC,EAAD,CAAejD,KAAK,WAAWgB,MAAM,gEAAcD,OAAQlC,EAAMkC,OAAQK,QAASvC,EAAMuC,QAASH,SAbnG,SAAsBU,GACpBA,EAAEC,iBAEF/C,EAAM6B,WAAW,CACfV,KAAM8C,EACNhD,KAAMkD,IAGRD,EAAY,IACZE,EAAW,KAKS9B,YAAY,6CADhC,SAEE,qCACE,sBAAK9C,UAAU,qBAAf,UACE,uBAAOyD,GAAG,cAAc7B,KAAK,OAAO8B,MAAOe,EAAUd,SAzB7D,SAA+BL,GAC7BoB,EAAYpB,EAAEM,OAAOF,QAwBsEG,YAAY,mDACzF7D,UAAU,uCAAuC2B,KAAK,YAAYmC,UAAQ,EAACC,UAAU,IAAIC,UAAU,OAC3G,sBAAMhE,UAAU,yBAElB,sBAAKA,UAAU,qBAAf,UACE,uBAAOyD,GAAG,aAAa7B,KAAK,MAAM8B,MAAOiB,EAAShB,SA1B1D,SAA8BL,GAC5BsB,EAAWtB,EAAEM,OAAOF,QAyBmEG,YAAY,qGACrF7D,UAAU,uCAAuC2B,KAAK,YAAYmC,UAAQ,IAClF,sBAAM9D,UAAU,8BCzBX6E,MAdf,SAAoBrE,GAClB,OACE,qBAAKR,UAAS,iCAA4BQ,EAAMI,KAAKE,IAAK,eAAe,GAA3D,KAAd,SACE,sBAAKd,UAAU,UAAf,UACE,yBAAQA,UAAU,qBAAlB,UACE,qBAAKC,IAAKO,EAAMI,KAAKa,KAAMtB,IAAKK,EAAMI,KAAKe,KAAM3B,UAAU,kBAC3D,4BAAYA,UAAU,gBAAtB,SAAuCQ,EAAMI,KAAKe,UAEpD,wBAAQN,QAASb,EAAMuC,QAASnB,KAAK,SAAS5B,UAAU,eAAe,aAAW,oF,cC4F3E8E,EALH,I,WA9FV,WAAaC,GAAS,oBACpBC,KAAKC,SAAWF,EAAOG,IACvBF,KAAKG,SAAWJ,EAAOK,Q,+CAIzB,WAAgB,IAAD,OACb,OAAOC,MAAK,UAAKL,KAAKC,SAAV,aAA+B,CACzCG,QAASJ,KAAKG,WAEbG,MAAM,SAACC,GACN,OAAO,EAAKC,eAAeD,Q,6BAKjC,WAAoB,IAAD,OACjB,OAAOF,MAAK,UAAKL,KAAKC,SAAV,UAA4B,CACtCG,QAASJ,KAAKG,WAEbG,MAAM,SAACC,GACN,OAAO,EAAKC,eAAeD,Q,6BAIjC,SAAiBE,GAAO,IAAD,OACrB,OAAOJ,MAAK,UAAKL,KAAKC,SAAV,aAA+B,CACzCS,OAAQ,QACRN,QAASJ,KAAKG,SACdQ,KAAMC,KAAKC,UAAU,CACnBlE,KAAM8D,EAAK9D,KACXS,MAAOqD,EAAKrD,UAGbkD,MAAM,SAACC,GACN,OAAO,EAAKC,eAAeD,Q,4BAIjC,SAAgBO,GAAY,IAAD,OACzB,OAAOT,MAAK,UAAKL,KAAKC,SAAV,oBAAsC,CAChDS,OAAQ,QACRN,QAASJ,KAAKG,SACdQ,KAAMC,KAAKC,UAAU,CACnB3D,OAAQ4D,MAGTR,MAAM,SAACC,GACN,OAAO,EAAKC,eAAeD,Q,yBAIjC,SAAY3E,GAAO,IAAD,OAChB,OAAOyE,MAAK,UAAKL,KAAKC,SAAV,UAA4B,CACtCS,OAAQ,OACRN,QAASJ,KAAKG,SACdQ,KAAMC,KAAKC,UAAU,CACnBlE,KAAMf,EAAKe,KACXF,KAAMb,EAAKa,SAGZ6D,MAAM,SAACC,GACN,OAAO,EAAKC,eAAeD,Q,kCAIjC,SAAsBQ,EAAQ/E,GAAU,IAAD,OACrC,OAAOqE,MAAK,UAAKL,KAAKC,SAAV,wBAAkCc,GAAU,CACtDL,OAAQ1E,EAAU,SAAW,MAC7BoE,QAASJ,KAAKG,WAEbG,MAAM,SAACC,GACN,OAAO,EAAKC,eAAeD,Q,wBAIjC,SAAYQ,GAAS,IAAD,OAClB,OAAOV,MAAK,UAAKL,KAAKC,SAAV,kBAA4Bc,GAAU,CAChDL,OAAQ,SACRN,QAASJ,KAAKG,WAEbG,MAAM,SAACC,GACN,OAAO,EAAKC,eAAeD,Q,4BAIjC,SAAeA,GACb,OAAIA,EAAIS,GACCT,EAAIU,OAENC,QAAQC,OAAR,gDAA0BZ,EAAIa,a,KAI7B,CAAQ,CAAClB,IAAK,wCACxBE,QAAS,CAACiB,cAAe,uCACf,eAAgB,sBCkDbC,MAvIf,WAEE,MAA4DjG,IAAM4C,UAAS,GAA3E,mBAAOsD,EAAP,KAA+BC,EAA/B,KACA,EAAsDnG,IAAM4C,UAAS,GAArE,mBAAOwD,EAAP,KAA4BC,EAA5B,KACA,EAA0DrG,IAAM4C,UAAS,GAAzE,mBAAO0D,EAAP,KAA8BC,EAA9B,KACA,EAAwCvG,IAAM4C,SAAS,IAAvD,mBAAO4D,EAAP,KAAqBC,EAArB,KACA,EAAsCzG,IAAM4C,SAAS,CAACtB,KAAK,GAAIS,MAAM,GAAIF,OAAO,GAAIpB,IAAK,KAAzF,mBAAOL,EAAP,KAAoBsG,EAApB,KACA,EAA0B1G,IAAM4C,SAAS,IAAzC,mBAAOX,EAAP,KAAc0E,EAAd,KA8DA,SAASC,IACPT,GAA0B,GAC1BI,GAAyB,GACzBF,GAAuB,GACvBI,EAAgB,IAoClB,OApFAzG,IAAMgD,WAAW,WACfyB,EAAIoC,cACD5B,MAAM,SAACC,GACNwB,EAAexB,MAEhB4B,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IAGH/G,IAAMgD,WAAU,WACdyB,EAAIyC,kBACDjC,MAAK,SAACkC,GACLR,EAASQ,MAEVL,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IAkED,cAAChH,EAAmBqH,SAApB,CAA6B/D,MAAOjD,EAApC,SACE,qBAAKT,UAAU,MAAf,SACE,sBAAKA,UAAU,OAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAMmC,cA1Ge,WAC7BqE,GAA0B,IAyG2BnE,WAlG3B,WAC1BqE,GAAuB,IAiG+DzE,aAtG1D,WAC5B2E,GAAyB,IAsGXtF,YA/FQ,SAACV,GACvBkG,EAAgBlG,IA8F4B0B,MAAOA,EAAOT,WArE5D,SAAwBjB,GACtB,IAAMI,EAAUJ,EAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAE3DgE,EAAI4C,qBAAqB9G,EAAKE,IAAKE,GAChCsE,MAAK,SAACqC,GACLX,GAAS,SAACY,GAAD,OAAWA,EAAMrF,KAAI,SAACsF,GAAD,OAAOA,EAAE/G,MAAQF,EAAKE,IAAM6G,EAAUE,WAErEV,OAAM,SAACC,GACNC,QAAQC,IAAIF,OA6DsErF,aAzDxF,SAA0BnB,GACxBkE,EAAIgD,WAAYlH,EAAKE,KAClBwE,MAAK,WACJ0B,GAAS,SAACY,GAAD,OAAWA,EAAMG,QAAO,SAACF,GAAD,OAAOA,EAAE/G,MAAQF,EAAKE,aAExDqG,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAoDR,cAAC,EAAD,OAGF,cAAC,EAAD,CAAkB1E,OAAQ6D,EAAwBxD,QAASkE,EAAgBzD,aA5CnF,SAA0BiC,GACxBX,EAAIkD,gBAAgBvC,GACjBH,MAAK,SAACC,GACLwB,EAAexB,GACf0B,OAEDE,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAuCV,cAAC,EAAD,CAAiB1E,OAAQiE,EAAuB5D,QAASkE,EAAgB7C,eAnCjF,SAA4BqB,GAC1BX,EAAImD,eAAexC,EAAKvD,QACrBoD,MAAM,SAACC,GACNwB,EAAexB,GACf0B,OAEDE,OAAM,SAACC,GACNC,QAAQC,IAAIF,SA8BV,cAAC,EAAD,CAAe1E,OAAQ+D,EAAqB1D,QAASkE,EAAgB5E,WA1B7E,SAA8BzB,GAC5BkE,EAAIoD,YAAYtH,GACb0E,MAAK,SAACqC,GACLX,EAAS,CAACW,GAAF,mBAAcrF,KACtB2E,OAEDE,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAqBV,cAAC,EAAD,CAAezF,KAAK,cAAcgB,MAAM,2DAAcI,QAASkE,EAAgBnE,YAAY,iBAE3F,cAAC,EAAD,CAAYlC,KAAMiG,EAAc9D,QAASkE,YChIpCkB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB/C,MAAK,YAAkD,IAA/CgD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.1b7e1b8f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logoPath from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logoPath} alt=\"Логотип Mesto Russia\" className=\"header__logo\"/>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card (props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (`place__delete ${isOwn ? 'place__delete_visible' : 'place__delete_hidden'}`);\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `place__like ${isLiked ? 'place__like_active' : ''}`;\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  } \r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  \r\n  return (\r\n    <article className=\"place\"> \r\n      <div onClick={handleClick} style={{ backgroundImage: `url(${props.card.link})`, backgroundSize: \"cover\" }} className=\"place__pic\"/>\r\n      <div className=\"place__description\">\r\n        <h2 className=\"place__name\">{props.card.name}</h2>\r\n        <div className=\"place__like-wrapper\">\r\n          <button type=\"button\" className={cardLikeButtonClassName} aria-label=\"Нравится фото места\" onClick={handleLikeClick}></button>\r\n          <p className=\"place__like-counter\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button type=\"button\" className={cardDeleteButtonClassName} aria-label=\"Удалить фото\" onClick={handleDeleteClick}></button>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\n\r\nfunction Main (props) {\r\n  \r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  \r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__user\">\r\n          <div className=\"profile__avatar-overlay\" onClick={props.onEditAvatar}><div className=\"profile__avatar\" \r\n                          style={{ backgroundImage: `url(${currentUser.avatar})`, backgroundSize: \"cover\" }} /></div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__name-info\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button type=\"button\" className=\"profile__edit\" onClick={props.onEditProfile} aria-label=\"Редактировать профайл\"></button>\r\n            </div>\r\n            <p className=\"profile__job-info\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add\" onClick={props.onAddPlace} aria-label=\"Добавить фото\"></button>\r\n      </section>\r\n\r\n      <section className=\"places\">\r\n        {props.cards.map((card) => {\r\n          return (<Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} \r\n                        onCardDelete={props.onCardDelete} />)\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","function PopupWithForm (props) {\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen? \"popup_opened\": \"\"}`}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form className=\"popup__form\" onSubmit={props.onSubmit} >\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__button\" aria-label=\"Сохранить изменения\">{props.buttonTitle}</button>\r\n        </form>\r\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose} aria-label=\"Закрыть попап\"></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup (props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n  \r\n\r\n  function handleNameChange (e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange (e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit-profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                        buttonTitle=\"Сохранить\"> \r\n      <>\r\n        <div className=\"popup__input-field\">\r\n          <input id=\"name-input\" type=\"text\" value={name} onChange={handleNameChange} className=\"popup__input popup__input_edit_name\" name=\"name\"\r\n                placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\"/>\r\n          <span className=\"name-input-error\"></span>\r\n        </div>\r\n        <div className=\"popup__input-field\">\r\n          <input id=\"job-input\" type=\"text\" value={description} onChange={handleDescriptionChange} className=\"popup__input popup__input_edit_job\" name=\"job\" \r\n                placeholder=\"Вид деятельности\" required minLength=\"2\" maxLength=\"200\"/>\r\n          <span className=\"job-input-error\"></span>\r\n        </div>\r\n      </>\r\n    </PopupWithForm> \r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup (props) {\r\n  const avatarRef = React.useRef(null);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n    e.target.reset();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit-avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                   buttonTitle=\"Сохранить\">\r\n      <div className=\"popup__input-field\">\r\n        <input id=\"avatar-input\" type=\"url\" ref={avatarRef} className=\"popup__input popup__input_avatar-link\" placeholder=\"Добавьте ссылку на аватар\" \r\n                name=\"avatar\" required/>\r\n        <span className=\"avatar-input-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\"\r\n\r\nfunction AddPlacePopup (props) {\r\n  const [cardName, setCardName] = React.useState('');\r\n  const [cardUrl, setCardUrl] = React.useState('');\r\n\r\n  function handleCardNameChange (e) {\r\n    setCardName(e.target.value);\r\n  }\r\n\r\n  function handleCardUrlChange (e) {\r\n    setCardUrl(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name: cardName,\r\n      link: cardUrl\r\n    });\r\n\r\n    setCardName('');\r\n    setCardUrl('');\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"new-card\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} \r\n                        buttonTitle=\"Создать\">\r\n      <>\r\n        <div className=\"popup__input-field\">\r\n          <input id=\"place-input\" type=\"text\" value={cardName} onChange={handleCardNameChange} placeholder=\"Название\" \r\n                  className=\"popup__input popup__input_place-name\" name=\"placeName\" required minLength=\"2\" maxLength=\"30\"/>\r\n          <span className=\"place-input-error\"></span>\r\n        </div>\r\n        <div className=\"popup__input-field\">\r\n          <input id=\"link-input\" type=\"url\" value={cardUrl} onChange={handleCardUrlChange} placeholder=\"Ссылка на картинку\"\r\n                  className=\"popup__input popup__input_place-link\" name=\"placeLink\" required/>\r\n          <span className=\"link-input-error\"></span>\r\n        </div>\r\n      </>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_photo ${props.card._id? \"popup_opened\":\"\"} `} >\r\n      <div className=\"picture\">\r\n        <figure className=\"picture__container\">\r\n          <img src={props.card.link} alt={props.card.name} className=\"picture__view\"/>\r\n          <figcaption className=\"picture__name\">{props.card.name}</figcaption>\r\n        </figure>\r\n        <button onClick={props.onClose} type=\"button\" className=\"popup__close\" aria-label=\"Закрыть попап\"></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor (config) {\r\n    this._baseUrl = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n\r\n  getUserInfo () {\r\n    return fetch (`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n\r\n  getInitialCards () {\r\n    return fetch (`${this._baseUrl}/cards`, {\r\n      headers: this._headers\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n  editProfileInfo (data) {\r\n    return fetch (`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n  editUserAvatar (avatarUrl) {\r\n    return fetch (`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarUrl\r\n      })\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n  loadNewCard(card) {\r\n    return fetch (`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: card.name,\r\n        link: card.link\r\n      })\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n  changeLikeCardStatus (cardId, isLiked) {\r\n    return fetch (`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'DELETE' : 'PUT',\r\n      headers: this._headers,\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  } \r\n\r\n  deleteCard (cardId) {\r\n    return fetch (`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then ((res) => {\r\n        return this._checkResponse(res)\r\n      })\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n}\r\n\r\nconst api = new Api({url: 'https://nomoreparties.co/v1/cohort-26', \r\n  headers: {authorization: 'adc76ba5-f155-4ece-b7e2-4db6eaf8ed57',\r\n            'Content-Type': 'application/json'}\r\n});\r\n\r\nexport default api;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/Api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({name:'', about:'', avatar:'', _id: ''})\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  }\r\n  \r\n  React.useEffect (() => {\r\n    api.getUserInfo()\r\n      .then ((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [])\r\n\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n      .then((resCards) => {\r\n        setCards(resCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [])\r\n\r\n  \r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    \r\n    api.changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard (card._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== card._id));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  \r\n  function closeAllPopups () {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api.editProfileInfo(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api.editUserAvatar(data.avatar)\r\n      .then ((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api.loadNewCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App\">\r\n        <div className=\"page\">\r\n          <div className=\"page__content\">\r\n            <Header />\r\n            <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} \r\n                  onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\r\n            <Footer />\r\n          </div>\r\n\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n\r\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n          \r\n          <PopupWithForm name=\"delete-card\" title=\"Вы уверены?\" onClose={closeAllPopups} buttonTitle=\"Да\" />\r\n        \r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}